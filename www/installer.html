<script>
	
	function install() {
    // Total hack due to this bug that prevents relative path for mozApps.install: https://bugzilla.mozilla.org/show_bug.cgi?id=745928
		var r = navigator.mozApps.install(location.protocol + "//" + location.host + location.pathname.replace('/installer.html','') + "/manifest.webapp");
		
		console.warn(r);
		
		r.onsuccess = function () {
		  // Save the App object that is returned
		  var appRecord = this.result;
		  alert('Installation successful!')
		};
		r.onerror = function () {
		  alert('Install failed, error: ' + this.error.name);
		};
	}
	
	
</script>
<a href="javascript:;" onclick="install();">Install!</a>
